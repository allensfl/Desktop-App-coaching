import{r as o,j as e,H as p,m as r,aa as j,ab as u,e as i,f as n,g as c,h as l}from"./index-BCVF1PLb.js";import{m as f}from"./StepContent-b4lK0HZx.js";import{U as x}from"./user-CaCbtgVu.js";import{S as g,U as w,I as y}from"./users-round-BZPTP302.js";import"./textarea-Ei5qcXJt.js";const N=({data:a})=>e.jsxs(e.Fragment,{children:[e.jsxs(i,{className:"glass-card",children:[e.jsx(n,{children:e.jsxs(c,{className:"flex items-center gap-2 text-white",children:[e.jsx(x,{})," Eingabe vom Coach"]})}),e.jsx(l,{children:e.jsx("p",{className:"text-slate-300 whitespace-pre-wrap min-h-[50px]",children:a.input||"Wartet auf Eingabe vom Coach..."})})]}),e.jsxs(i,{className:"glass-card border-primary/50",children:[e.jsx(n,{children:e.jsxs(c,{className:"flex items-center gap-2 text-primary",children:[e.jsx(g,{})," Antwort der KI"]})}),e.jsx(l,{children:e.jsx("p",{className:"text-slate-300 whitespace-pre-wrap min-h-[50px]",children:a.output||"Wartet auf KI-Antwort..."})})]})]}),b=({data:a})=>e.jsxs(i,{className:"glass-card",children:[e.jsx(n,{children:e.jsxs(c,{className:"flex items-center gap-2 text-white",children:[e.jsx(y,{})," Immersive Bildarbeit"]})}),e.jsx(l,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:f.map(t=>{var s;return e.jsx(r.div,{className:`rounded-lg overflow-hidden border-4 ${((s=a.selectedImage)==null?void 0:s.id)===t.id?"border-primary":"border-transparent"}`,children:e.jsx("img",{alt:t.alt,src:"https://images.unsplash.com/photo-1595872018818-97555653a011?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"})},t.id)})})})]}),C=({data:a})=>{var t;return e.jsxs(i,{className:"glass-card",children:[e.jsx(n,{children:e.jsxs(c,{className:"flex items-center gap-2 text-amber-400",children:[e.jsx(w,{})," Virtuelle Aufstellung"]})}),e.jsx(l,{className:"flex justify-around items-center h-48",children:(t=a.avatars)==null?void 0:t.map(s=>e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(r.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2},className:"w-20 h-20 rounded-full flex items-center justify-center",style:{backgroundColor:s.color},children:e.jsx(x,{className:"text-white h-10 w-10"})}),e.jsx("p",{className:"font-semibold text-slate-200",children:s.name})]},s.name))})]})},E=()=>{const[a,t]=o.useState({step:1,input:"",output:"",selectedImage:null,avatars:[]}),s=o.useRef(null);o.useEffect(()=>{s.current=new BroadcastChannel("ai_coaching_channel");const m=d=>{d.data&&d.data.type==="update"&&t(d.data.payload)};return s.current.addEventListener("message",m),s.current.postMessage({type:"ready"}),()=>{s.current&&(s.current.removeEventListener("message",m),s.current.close())}},[]);const h=()=>{switch(a.step){case 3:return e.jsx(b,{data:a});case 6:case 9:return e.jsx(C,{data:a});default:return e.jsx(N,{data:a})}};return e.jsxs(e.Fragment,{children:[e.jsxs(p,{children:[e.jsx("title",{children:"KI-Coaching Freigabe - Coachingspace"}),e.jsx("meta",{name:"description",content:"Geteilte Ansicht für die KI-Interaktion im Coaching."})]}),e.jsx("div",{className:"min-h-screen bg-slate-950 text-white p-4 sm:p-6 lg:p-8 flex items-center justify-center",children:e.jsxs(r.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-3xl space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center justify-center gap-3",children:[e.jsx(j,{})," Geteilter KI-Dialog"]}),e.jsx("p",{className:"text-slate-400",children:"Ansicht für den Coachee"})]}),e.jsx(u,{mode:"wait",children:e.jsx(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"space-y-6",children:h()},a.step)})]})})]})};export{E as default};
