import{r as m,j as e,c as G,P as A,u as K,a as N,R as v,b as E,d as I,H as q,U as W,C as J,F as Q,e as x,f as p,g,h as f,m as D,L as y,B as w}from"./index-BCVF1PLb.js";import{B as X}from"./badge-EtFkFwpi.js";import{T as Y}from"./TaskManager-Cw8suq0s.js";import{P as Z,A as ee}from"./package-plus-XrnrEhJt.js";import{C as te}from"./clipboard-check-CysGfWXk.js";import{s as ae}from"./de-B2K29ify.js";import{C as se}from"./check-circle-2-sdUbpfEf.js";import{i as re}from"./isToday-DmJ7ZUUg.js";import"./input-CMYn3E83.js";import"./checkbox-CLqVbJq_.js";import"./index-Cxa5liJK.js";import"./index-B8MATRhp.js";import"./check-C26bXOMj.js";import"./index-D9lbRThE.js";import"./floating-ui.react-dom-DMRTrF13.js";import"./calendar-CpAfWw-a.js";import"./isSameYear-DGw-2Tmo.js";import"./chevron-right-CVrpxHPZ.js";import"./chevron-left-B6OT_W-B.js";import"./select-B5ckg96L.js";import"./label-gCXM_mwv.js";import"./trash-2-Doau15tD.js";var T={exports:{}},$={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u=m;function ne(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var oe=typeof Object.is=="function"?Object.is:ne,ie=u.useState,le=u.useEffect,ce=u.useLayoutEffect,de=u.useDebugValue;function me(t,a){var r=a(),l=ie({inst:{value:r,getSnapshot:a}}),o=l[0].inst,n=l[1];return ce(function(){o.value=r,o.getSnapshot=a,j(o)&&n({inst:o})},[t,r,a]),le(function(){return j(o)&&n({inst:o}),t(function(){j(o)&&n({inst:o})})},[t]),de(r),r}function j(t){var a=t.getSnapshot;t=t.value;try{var r=a();return!oe(t,r)}catch{return!0}}function ue(t,a){return a()}var xe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ue:me;$.useSyncExternalStore=u.useSyncExternalStore!==void 0?u.useSyncExternalStore:xe;T.exports=$;var fe=T.exports;function he(){return fe.useSyncExternalStore(pe,()=>!0,()=>!1)}function pe(){return()=>{}}var k="Avatar",[ge,Ge]=G(k),[ve,P]=ge(k),_=m.forwardRef((t,a)=>{const{__scopeAvatar:r,...l}=t,[o,n]=m.useState("idle");return e.jsx(ve,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:n,children:e.jsx(A.span,{...l,ref:a})})});_.displayName=k;var F="AvatarImage",U=m.forwardRef((t,a)=>{const{__scopeAvatar:r,src:l,onLoadingStatusChange:o=()=>{},...n}=t,c=P(F,r),d=je(l,n),s=K(i=>{o(i),c.onImageLoadingStatusChange(i)});return N(()=>{d!=="idle"&&s(d)},[d,s]),d==="loaded"?e.jsx(A.img,{...n,ref:a,src:l}):null});U.displayName=F;var H="AvatarFallback",M=m.forwardRef((t,a)=>{const{__scopeAvatar:r,delayMs:l,...o}=t,n=P(H,r),[c,d]=m.useState(l===void 0);return m.useEffect(()=>{if(l!==void 0){const s=window.setTimeout(()=>d(!0),l);return()=>window.clearTimeout(s)}},[l]),c&&n.imageLoadingStatus!=="loaded"?e.jsx(A.span,{...o,ref:a}):null});M.displayName=H;function R(t,a){return t?a?(t.src!==a&&(t.src=a),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function je(t,{referrerPolicy:a,crossOrigin:r}){const l=he(),o=m.useRef(null),n=l?(o.current||(o.current=new window.Image),o.current):null,[c,d]=m.useState(()=>R(n,t));return N(()=>{d(R(n,t))},[n,t]),N(()=>{const s=V=>()=>{d(V)};if(!n)return;const i=s("loaded"),L=s("error");return n.addEventListener("load",i),n.addEventListener("error",L),a&&(n.referrerPolicy=a),typeof r=="string"&&(n.crossOrigin=r),()=>{n.removeEventListener("load",i),n.removeEventListener("error",L)}},[n,r,a]),c}var z=_,B=U,O=M;const S=v.forwardRef(({className:t,...a},r)=>e.jsx(z,{ref:r,className:E("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...a}));S.displayName=z.displayName;const b=v.forwardRef(({className:t,...a},r)=>e.jsx(B,{ref:r,className:E("aspect-square h-full w-full",t),...a}));b.displayName=B.displayName;const C=v.forwardRef(({className:t,...a},r)=>e.jsx(O,{ref:r,className:E("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...a}));C.displayName=O.displayName;function Ne(){return ae(Date.now())}const h=({title:t,value:a,icon:r,to:l,colorClass:o})=>e.jsx(D.div,{whileHover:{y:-8,scale:1.03},whileTap:{scale:.98},className:"h-full",children:e.jsxs(x,{className:"relative overflow-hidden h-full flex flex-col justify-between glass-card-enhanced hover:shadow-2xl transition-all duration-500 group",children:[e.jsxs(p,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(g,{className:"text-sm font-medium text-muted-foreground group-hover:text-foreground transition-colors duration-300",children:t}),e.jsx("div",{className:"p-2 rounded-lg bg-primary/10 group-hover:bg-primary/20 transition-all duration-300",children:v.cloneElement(r,{className:"h-5 w-5 text-primary group-hover:scale-110 transition-transform duration-300"})})]}),e.jsxs(f,{children:[e.jsx("div",{className:"text-4xl font-bold text-foreground group-hover:text-primary transition-colors duration-300",children:a}),l&&e.jsxs(y,{to:l,className:"text-xs text-primary hover:text-primary/80 mt-2 flex items-center group-hover:translate-x-1 transition-all duration-300",children:["Details anzeigen ",e.jsx(ee,{className:"h-4 w-4 ml-1 group-hover:scale-110 transition-transform duration-300"})]})]})]})}),ye=t=>{if(!t)return"N/A";const a=new Date(t);return isNaN(a)?"N/A":new Intl.DateTimeFormat("de-DE",{dateStyle:"long",timeStyle:"short"}).format(a)},we=()=>{const{state:t,actions:a}=I(),{tasks:r}=t,{setTasks:l}=a,o=m.useMemo(()=>(Ne(),(r||[]).filter(c=>c.dueDate&&re(new Date(c.dueDate))&&!c.completed)),[r]),n=c=>{l(d=>(d||[]).map(s=>s.id===c?{...s,completed:!s.completed}:s))};return o.length===0?null:e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold tracking-tight text-foreground mb-3",children:"Heute f채llig"}),e.jsx(x,{className:"glass-card",children:e.jsx(f,{className:"p-4 space-y-3",children:o.map(c=>e.jsxs(D.div,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"flex items-center gap-3 p-2 rounded-md hover:bg-muted/50",children:[e.jsx(w,{variant:"ghost",size:"icon",onClick:()=>n(c.id),className:"text-muted-foreground hover:text-primary",children:e.jsx(se,{className:"h-5 w-5"})}),e.jsx("div",{className:"flex-1",children:e.jsx("span",{className:"text-sm text-foreground",children:c.text})})]},c.id))})})]})};function Ke(){const{state:t}=I(),{coachees:a,sessions:r,invoices:l,activePackages:o}=t,n=(r||[]).filter(s=>new Date(s.date)>=new Date).sort((s,i)=>new Date(s.date)-new Date(i.date)).slice(0,3),c=[...a||[]].sort((s,i)=>new Date(i.createdAt)-new Date(s.createdAt)).slice(0,5),d=s=>(a||[]).find(i=>i.id===s);return e.jsxs(e.Fragment,{children:[e.jsxs(q,{children:[e.jsx("title",{children:"Dashboard - Coachingspace"}),e.jsx("meta",{name:"description",content:"Dein zentrales Dashboard f체r die Verwaltung deiner Coachings."})]}),e.jsxs("div",{className:"flex-1 space-y-4 p-4 md:p-8 pt-6 bg-background min-h-screen",children:[e.jsx("h2",{className:"text-3xl font-bold tracking-tight text-foreground",children:"Dashboard"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(h,{title:"Aktive Coachees",value:(a||[]).length,icon:e.jsx(W,{className:"h-5 w-5 text-sky-400"}),to:"/coachees",colorClass:"border-sky-500/10"}),e.jsx(h,{title:"Geplante Sessions",value:(r||[]).filter(s=>new Date(s.date)>=new Date).length,icon:e.jsx(J,{className:"h-5 w-5 text-violet-400"}),to:"/sessions",colorClass:"border-violet-500/10"}),e.jsx(h,{title:"Offene Rechnungen",value:(l||[]).filter(s=>s.status==="open").length,icon:e.jsx(Q,{className:"h-5 w-5 text-emerald-400"}),to:"/invoices",colorClass:"border-emerald-500/10"}),e.jsx(h,{title:"Aktive Pakete",value:(o||[]).filter(s=>s.usedUnits<s.totalUnits).length,icon:e.jsx(Z,{className:"h-5 w-5 text-amber-400"}),to:"/invoices",colorClass:"border-amber-500/10"})]}),e.jsx(we,{}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[e.jsxs(x,{className:"col-span-12 lg:col-span-4 glass-card-enhanced",children:[e.jsx(p,{children:e.jsx(g,{className:"text-foreground",children:"N채chste Sessions"})}),e.jsx(f,{className:"space-y-4",children:n.length>0?n.map(s=>{const i=d(s.coacheeId);return e.jsxs(D.div,{whileHover:{scale:1.02,backgroundColor:"hsl(var(--muted-hsl) / 0.5)"},className:"flex items-center space-x-4 p-3 rounded-xl transition-all duration-300 glass-nav-item group",children:[e.jsxs(S,{className:"h-10 w-10 border-2 border-primary group-hover:border-primary/80 transition-colors duration-300",children:[e.jsx(b,{src:i==null?void 0:i.avatarUrl}),e.jsx(C,{children:i?`${i.firstName[0]}${i.lastName[0]}`:"?"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-foreground group-hover:text-primary transition-colors duration-300",children:s.topic}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["mit ",i?`${i.firstName} ${i.lastName}`:"Unbekannt"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:ye(s.date)}),e.jsx(X,{variant:s.type==="remote"?"default":"secondary",children:s.type==="remote"?"Remote":"Pr채senz"})]}),e.jsx(y,{to:`/coaching-room/${i==null?void 0:i.id}`,children:e.jsx(w,{size:"sm",className:"group-hover:scale-105 transition-transform duration-300",children:"Starten"})})]},s.id)}):e.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Keine bevorstehenden Sessions geplant."})})]}),e.jsxs(x,{className:"col-span-12 lg:col-span-3 glass-card-enhanced",children:[e.jsx(p,{children:e.jsx(g,{className:"text-foreground",children:"Neue Coachees"})}),e.jsx(f,{className:"space-y-4",children:c.map(s=>e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(S,{className:"h-10 w-10",children:[e.jsx(b,{src:s.avatarUrl}),e.jsx(C,{children:`${s.firstName[0]}${s.lastName[0]}`})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-foreground",children:[s.firstName," ",s.lastName]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.email})]}),e.jsx(y,{to:`/coachees/${s.id}`,className:"ml-auto",children:e.jsx(w,{variant:"ghost",size:"sm",children:"Anzeigen"})})]},s.id))})]})]}),e.jsx("div",{className:"pt-4",children:e.jsxs(x,{className:"glass-card-enhanced",children:[e.jsx(p,{children:e.jsxs(g,{className:"flex items-center text-foreground",children:[e.jsx(te,{className:"mr-2 h-6 w-6 text-primary"}),"Aufgaben-Manager"]})}),e.jsx(f,{children:e.jsx(Y,{isCompact:!0})})]})})]})]})}export{Ke as default};
