import{d as D,r as g,A as C,i as z,j as e,H as A,B as n,k as N,e as r,h as c,S,m as k,f as T,L as y,g as L,C as E,F as j}from"./index-BCVF1PLb.js";import{I as F}from"./input-CMYn3E83.js";import{A as H,a as I,b as U,c as $,d as B,e as K,f as O,g as V,h as M}from"./alert-dialog-C4_CwsSl.js";import{U as P}from"./user-CaCbtgVu.js";import{T as R}from"./trash-2-Doau15tD.js";function Y(){const{state:u,actions:f}=D(),{sessionNotes:o,coachees:d,sessions:h}=u,{setSessionNotes:p}=f,[a,w]=g.useState(""),x=C(),{toast:b}=z(),v=s=>{p(t=>t.filter(i=>i.id!==s)),b({title:"Notiz gelöscht",description:"Die Sitzungsnotiz wurde erfolgreich entfernt.",variant:"destructive"})},m=g.useMemo(()=>(o||[]).map(s=>{const t=d.find(l=>l.id===s.coacheeId),i=h.find(l=>l.id===s.sessionId);return{...s,coacheeName:t?`${t.firstName} ${t.lastName}`:"Unbekannt",sessionTopic:i?i.topic:"Keine Session",sessionDate:i?i.date:null}}).sort((s,t)=>new Date(t.createdAt)-new Date(s.createdAt)),[o,d,h]).filter(s=>s.title.toLowerCase().includes(a.toLowerCase())||s.coacheeName.toLowerCase().includes(a.toLowerCase())||s.sessionTopic.toLowerCase().includes(a.toLowerCase()));return e.jsxs(e.Fragment,{children:[e.jsxs(A,{children:[e.jsx("title",{children:"Sitzungsnotizen - Coachingspace"}),e.jsx("meta",{name:"description",content:"Verwalte alle deine Sitzungsnotizen an einem zentralen Ort."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Sitzungsnotizen"}),e.jsx("p",{className:"text-slate-400",children:"Alle Notizen zu deinen Coachings an einem Ort."})]}),e.jsxs(n,{onClick:()=>x("/session-notes/new"),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(N,{className:"mr-2 h-4 w-4"}),"Neue Notiz"]})]}),e.jsx(r,{className:"glass-card",children:e.jsx(c,{className:"p-6",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(S,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),e.jsx(F,{placeholder:"Notizen durchsuchen (Titel, Coachee, Session)...",value:a,onChange:s=>w(s.target.value),className:"pl-10"})]})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map((s,t)=>e.jsx(k.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:t*.05},className:"h-full",children:e.jsxs(r,{className:"glass-card hover:bg-slate-800/50 transition-all duration-300 group h-full flex flex-col",children:[e.jsx(T,{children:e.jsx(y,{to:`/session-notes/${s.id}`,className:"block",children:e.jsx(L,{className:"text-white group-hover:text-blue-400 transition-colors text-lg line-clamp-2",children:s.title})})}),e.jsxs(c,{className:"flex-grow flex flex-col justify-between",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-sm text-slate-400",children:[e.jsx(P,{className:"mr-2 h-4 w-4 flex-shrink-0"}),e.jsx("span",{children:s.coacheeName})]}),e.jsxs("div",{className:"flex items-center text-sm text-slate-400",children:[e.jsx(E,{className:"mr-2 h-4 w-4 flex-shrink-0"}),e.jsx("span",{children:s.sessionDate?new Date(s.sessionDate).toLocaleDateString("de-DE"):"N/A"})]}),e.jsxs("div",{className:"flex items-center text-sm text-slate-400",children:[e.jsx(j,{className:"mr-2 h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"line-clamp-1",children:s.sessionTopic})]})]}),e.jsxs("div",{className:"pt-4 mt-4 border-t border-slate-700 flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs text-slate-500",children:["Erstellt am ",new Date(s.createdAt).toLocaleDateString("de-DE")]}),e.jsxs(H,{children:[e.jsx(I,{asChild:!0,children:e.jsx(n,{variant:"ghost",size:"icon",className:"text-slate-400 hover:text-red-500",children:e.jsx(R,{className:"h-4 w-4"})})}),e.jsxs(U,{children:[e.jsxs($,{children:[e.jsx(B,{children:"Notiz wirklich löschen?"}),e.jsx(K,{children:"Diese Aktion kann nicht rückgängig gemacht werden. Die Notiz wird dauerhaft gelöscht."})]}),e.jsxs(O,{children:[e.jsx(V,{children:"Abbrechen"}),e.jsx(M,{onClick:()=>v(s.id),className:"bg-red-600 hover:bg-red-700",children:"Löschen"})]})]})]})]})]})]})},s.id))}),m.length===0&&e.jsx(r,{className:"glass-card",children:e.jsxs(c,{className:"p-12 text-center",children:[e.jsx(j,{className:"mx-auto h-12 w-12 text-slate-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Keine Notizen gefunden"}),e.jsx("p",{className:"text-slate-400 mb-4",children:a?"Versuche andere Suchbegriffe.":"Erstelle deine erste Sitzungsnotiz, um zu beginnen."}),!a&&e.jsxs(n,{onClick:()=>x("/session-notes/new"),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(N,{className:"mr-2 h-4 w-4"}),"Erste Notiz erstellen"]})]})})]})]})}export{Y as default};
